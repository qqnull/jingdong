{"remainingRequest":"D:\\1----------------WEB--------------------\\1 前端班30期\\web20_Vue.js\\002_code\\web2001008\\1-登录流程编写\\jingdong\\node_modules\\babel-loader\\lib\\index.js!D:\\1----------------WEB--------------------\\1 前端班30期\\web20_Vue.js\\002_code\\web2001008\\1-登录流程编写\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\1----------------WEB--------------------\\1 前端班30期\\web20_Vue.js\\002_code\\web2001008\\1-登录流程编写\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\1----------------WEB--------------------\\1 前端班30期\\web20_Vue.js\\002_code\\web2001008\\1-登录流程编写\\jingdong\\src\\views\\register\\Register.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\1----------------WEB--------------------\\1 前端班30期\\web20_Vue.js\\002_code\\web2001008\\1-登录流程编写\\jingdong\\src\\views\\register\\Register.vue","mtime":1634178818000},{"path":"D:\\1----------------WEB--------------------\\1 前端班30期\\web20_Vue.js\\002_code\\web2001008\\1-登录流程编写\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\1----------------WEB--------------------\\1 前端班30期\\web20_Vue.js\\002_code\\web2001008\\1-登录流程编写\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\1----------------WEB--------------------\\1 前端班30期\\web20_Vue.js\\002_code\\web2001008\\1-登录流程编写\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\1----------------WEB--------------------\\1 前端班30期\\web20_Vue.js\\002_code\\web2001008\\1-登录流程编写\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6LzEtLS0tLS0tLS0tLS0tLS0tV0VCLS0tLS0tLS0tLS0tLS0tLS0tLS0vMSBcdTUyNERcdTdBRUZcdTczRUQzMFx1NjcxRi93ZWIyMF9WdWUuanMvMDAyX2NvZGUvd2ViMjAwMTAwOC8xLVx1NzY3Qlx1NUY1NVx1NkQ0MVx1N0EwQlx1N0YxNlx1NTE5OS9qaW5nZG9uZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IHBvc3QgfSBmcm9tICcuLi8uLi91bnRpbHMvcmVxdWVzdCc7CmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMgfSBmcm9tICd2dWUnOwppbXBvcnQgVG9hc3QsIHsgdXNlVG9hc3RFZmZlY3QgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL1RvYXN0JzsgLy/lpITnkIbms6jlhoznm7jlhbPnmoTpgLvovpEKCnZhciB1c2VSZWdpc3RlckVmZmVjdCA9IGZ1bmN0aW9uIHVzZVJlZ2lzdGVyRWZmZWN0KHNob3dUb2FzdCkgewogIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICB2YXIgZGF0YSA9IHJlYWN0aXZlKHsKICAgIHVzZXJuYW1lOiAnJywKICAgIHBhc3N3b3JkOiAnJywKICAgIGVuc3VyZW1lbnQ6ICcnCiAgfSk7CgogIHZhciBoYW5kbGVSZWdpc3RlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBwb3N0KCcvYXBpL3VzZXIvcmVnaXN0ZXInLCB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogZGF0YS51c2VybmFtZSwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBkYXRhLnBhc3N3b3JkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5lcnJvciA9PT0gMCkgewogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnTG9naW4nCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2hvd1RvYXN0KCfms6jlhozlpLHotKUnKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIHNob3dUb2FzdCgn6K+35rGC5aSx6LSlJyk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDddXSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZVJlZ2lzdGVyKCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHZhciBfdG9SZWZzID0gdG9SZWZzKGRhdGEpLAogICAgICB1c2VybmFtZSA9IF90b1JlZnMudXNlcm5hbWUsCiAgICAgIHBhc3N3b3JkID0gX3RvUmVmcy5wYXNzd29yZCwKICAgICAgZW5zdXJlbWVudCA9IF90b1JlZnMuZW5zdXJlbWVudDsKCiAgcmV0dXJuIHsKICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgIHBhc3N3b3JkOiBwYXNzd29yZCwKICAgIGVuc3VyZW1lbnQ6IGVuc3VyZW1lbnQsCiAgICBoYW5kbGVSZWdpc3RlcjogaGFuZGxlUmVnaXN0ZXIKICB9Owp9OyAvL+WkhOeQhuazqOWGjOi3s+i9rAoKCnZhciB1c2VMb2dpbkVmZmVjdCA9IGZ1bmN0aW9uIHVzZUxvZ2luRWZmZWN0KCkgewogIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKCiAgdmFyIGhhbmRsZUxvZ2luQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVMb2dpbkNsaWNrKCkgewogICAgcm91dGVyLnB1c2goewogICAgICBuYW1lOiAnTG9naW4nCiAgICB9KTsKICB9OwoKICByZXR1cm4gewogICAgaGFuZGxlTG9naW5DbGljazogaGFuZGxlTG9naW5DbGljawogIH07Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JlZ2lzdGVyJywKICBjb21wb25lbnRzOiB7CiAgICBUb2FzdDogVG9hc3QKICB9LAogIC8vIOiBjOi0o+WwseaYr+WRiuivieS9oO+8jOS7o+eggeaJp+ihjOeahOS4gOS4qua1geeoiwogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBfdXNlVG9hc3RFZmZlY3QgPSB1c2VUb2FzdEVmZmVjdCgpLAogICAgICAgIHNob3cgPSBfdXNlVG9hc3RFZmZlY3Quc2hvdywKICAgICAgICB0b2FzdE1lc3NhZ2UgPSBfdXNlVG9hc3RFZmZlY3QudG9hc3RNZXNzYWdlLAogICAgICAgIHNob3dUb2FzdCA9IF91c2VUb2FzdEVmZmVjdC5zaG93VG9hc3Q7CgogICAgdmFyIF91c2VSZWdpc3RlckVmZmVjdCA9IHVzZVJlZ2lzdGVyRWZmZWN0KHNob3dUb2FzdCksCiAgICAgICAgdXNlcm5hbWUgPSBfdXNlUmVnaXN0ZXJFZmZlY3QudXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQgPSBfdXNlUmVnaXN0ZXJFZmZlY3QucGFzc3dvcmQsCiAgICAgICAgZW5zdXJlbWVudCA9IF91c2VSZWdpc3RlckVmZmVjdC5lbnN1cmVtZW50LAogICAgICAgIGhhbmRsZVJlZ2lzdGVyID0gX3VzZVJlZ2lzdGVyRWZmZWN0LmhhbmRsZVJlZ2lzdGVyOwoKICAgIHZhciBfdXNlTG9naW5FZmZlY3QgPSB1c2VMb2dpbkVmZmVjdCgpLAogICAgICAgIGhhbmRsZUxvZ2luQ2xpY2sgPSBfdXNlTG9naW5FZmZlY3QuaGFuZGxlTG9naW5DbGljazsKCiAgICByZXR1cm4gewogICAgICBzaG93OiBzaG93LAogICAgICB0b2FzdE1lc3NhZ2U6IHRvYXN0TWVzc2FnZSwKICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgICBwYXNzd29yZDogcGFzc3dvcmQsCiAgICAgIGVuc3VyZW1lbnQ6IGVuc3VyZW1lbnQsCiAgICAgIGhhbmRsZVJlZ2lzdGVyOiBoYW5kbGVSZWdpc3RlciwKICAgICAgaGFuZGxlTG9naW5DbGljazogaGFuZGxlTG9naW5DbGljawogICAgfTsKICB9Cn07"},{"version":3,"sources":["D:\\1----------------WEB--------------------\\1 前端班30期\\web20_Vue.js\\002_code\\web2001008\\1-登录流程编写\\jingdong\\src\\views\\register\\Register.vue"],"names":[],"mappings":";;AA6BA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAQ,IAAR,QAAmB,sBAAnB;AACA,SAAQ,QAAR,EAAiB,MAAjB,QAA8B,KAA9B;AACA,OAAO,KAAP,IAAgB,cAAhB,QAAsC,wBAAtC,C,CAEA;;AACA,IAAM,iBAAgB,GAAI,SAApB,iBAAoB,CAAC,SAAD,EAAa;AACrC,MAAM,MAAK,GAAI,SAAS,EAAxB;AACA,MAAM,IAAG,GAAI,QAAQ,CAAC;AACpB,IAAA,QAAQ,EAAC,EADW;AAEpB,IAAA,QAAQ,EAAC,EAFW;AAGpB,IAAA,UAAU,EAAC;AAHS,GAAD,CAArB;;AAKA,MAAM,cAAa;AAAA,uEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEE,IAAI,CAAC,oBAAD,EAAsB;AAC7C,gBAAA,QAAQ,EAAC,IAAI,CAAC,QAD+B;AAE7C,gBAAA,QAAQ,EAAC,IAAI,CAAC;AAF+B,eAAtB,CAFN;;AAAA;AAEb,cAAA,MAFa;;AAMnB,kBAAG,MAAM,CAAC,KAAP,KAAiB,CAApB,EAAsB;AACpB,gBAAA,MAAM,CAAC,IAAP,CAAY;AAAC,kBAAA,IAAI,EAAC;AAAN,iBAAZ;AACD,eAFD,MAEK;AACH,gBAAA,SAAS,CAAC,MAAD,CAAT;AACF;;AAVmB;AAAA;;AAAA;AAAA;AAAA;AAYnB,cAAA,SAAS,CAAC,MAAD,CAAT;;AAZmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAb,cAAa;AAAA;AAAA;AAAA,KAAnB;;AAeA,gBAAuC,MAAM,CAAC,IAAD,CAA7C;AAAA,MAAO,QAAP,WAAO,QAAP;AAAA,MAAgB,QAAhB,WAAgB,QAAhB;AAAA,MAAyB,UAAzB,WAAyB,UAAzB;;AACA,SAAO;AAAC,IAAA,QAAQ,EAAR,QAAD;AAAU,IAAA,QAAQ,EAAR,QAAV;AAAmB,IAAA,UAAU,EAAV,UAAnB;AAA8B,IAAA,cAAc,EAAd;AAA9B,GAAP;AACF,CAxBA,C,CAyBA;;;AACA,IAAM,cAAa,GAAI,SAAjB,cAAiB,GAAI;AACzB,MAAM,MAAK,GAAI,SAAS,EAAxB;;AACA,MAAM,gBAAe,GAAI,SAAnB,gBAAmB,GAAI;AAC3B,IAAA,MAAM,CAAC,IAAP,CAAY;AAAC,MAAA,IAAI,EAAC;AAAN,KAAZ;AACF,GAFA;;AAGA,SAAO;AAAC,IAAA,gBAAgB,EAAhB;AAAD,GAAP;AACF,CANA;;AAOA,eAAe;AACb,EAAA,IAAI,EAAC,UADQ;AAEb,EAAA,UAAU,EAAC;AAAC,IAAA,KAAK,EAAL;AAAD,GAFE;AAGb;AACA,EAAA,KAJa,mBAIN;AACL,0BAA0C,cAAc,EAAxD;AAAA,QAAQ,IAAR,mBAAQ,IAAR;AAAA,QAAc,YAAd,mBAAc,YAAd;AAAA,QAA4B,SAA5B,mBAA4B,SAA5B;;AACA,6BAAwD,iBAAiB,CAAC,SAAD,CAAzE;AAAA,QAAQ,QAAR,sBAAQ,QAAR;AAAA,QAAiB,QAAjB,sBAAiB,QAAjB;AAAA,QAA0B,UAA1B,sBAA0B,UAA1B;AAAA,QAAqC,cAArC,sBAAqC,cAArC;;AACA,0BAA2B,cAAc,EAAzC;AAAA,QAAO,gBAAP,mBAAO,gBAAP;;AACA,WAAM;AACJ,MAAA,IAAI,EAAJ,IADI;AACE,MAAA,YAAY,EAAZ,YADF;AAEJ,MAAA,QAAQ,EAAR,QAFI;AAEK,MAAA,QAAQ,EAAR,QAFL;AAEc,MAAA,UAAU,EAAV,UAFd;AAEyB,MAAA,cAAc,EAAd,cAFzB;AAGJ,MAAA,gBAAe,EAAf;AAHI,KAAN;AAKF;AAba,CAAf","sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <img class=\"wrapper__img\" src=\"http://www.dell-lee.com/imgs/vue3/user.png\"/>\r\n    <div class=\"wrapper__input\">\r\n      <input class=\"wrapper__input__content\" placeholder=\"请输入手机号\" v-model=\"username\"/>\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入密码\"\r\n        type=\"password\"\r\n        v-model=\"password\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"确认密码\"\r\n        type=\"password\"\r\n        v-model=\"ensurement\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__register-button\" @click=\"handleRegister\">注册</div>\r\n    <div class=\"wrapper__register-link\" @click=\"handleLoginClick\">已有账号去登陆</div>\r\n    <Toast v-if=\"show\" :message=\"toastMessage\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from 'vue-router';\r\nimport {post} from '../../untils/request'\r\nimport {reactive,toRefs} from 'vue'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\n\r\n//处理注册相关的逻辑\r\nconst useRegisterEffect = (showToast)=>{\r\n  const router = useRouter();\r\n  const data = reactive({\r\n    username:'',\r\n    password:'',\r\n    ensurement:''\r\n  })\r\n  const handleRegister = async ()=>{\r\n    try{\r\n      const result = await post('/api/user/register',{\r\n        username:data.username,\r\n        password:data.password\r\n      })\r\n      if(result.error === 0){\r\n        router.push({name:'Login'})\r\n      }else{\r\n        showToast('注册失败')\r\n      }\r\n    }catch(e){\r\n      showToast('请求失败')\r\n    }\r\n  }\r\n  const {username,password,ensurement} = toRefs(data);\r\n  return {username,password,ensurement,handleRegister}\r\n}\r\n//处理注册跳转\r\nconst useLoginEffect = ()=>{\r\n  const router = useRouter();\r\n  const handleLoginClick = ()=>{\r\n    router.push({name:'Login'});\r\n  }\r\n  return {handleLoginClick}\r\n}\r\nexport default {\r\n  name:'Register',\r\n  components:{Toast},\r\n  // 职责就是告诉你，代码执行的一个流程\r\n  setup(){\r\n    const { show, toastMessage, showToast } = useToastEffect();\r\n    const { username,password,ensurement,handleRegister } = useRegisterEffect(showToast);\r\n    const {handleLoginClick} = useLoginEffect();\r\n    return{\r\n      show, toastMessage,\r\n      username,password,ensurement,handleRegister,\r\n      handleLoginClick\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  right: 0;\r\n  transform: translateY(-50%);\r\n  &__img {\r\n    display: block;\r\n    margin: 0 auto .4rem auto;\r\n    width: .66rem;\r\n    height: .66rem;\r\n  }\r\n  &__input {\r\n    height: .48rem;\r\n    margin: 0 .4rem .16rem .4rem;\r\n    padding: 0 .16rem;\r\n    background: #F9F9F9;\r\n    border: 1px solid rgba(0,0,0,0.10);\r\n    border-radius: 6px;\r\n    border-radius: 6px;\r\n    &__content {\r\n      line-height: .48rem;\r\n      border: none;\r\n      outline: none;\r\n      width: 100%;\r\n      background: none;\r\n      font-size: .16rem;\r\n      color: $content-notice-fontcolor;\r\n      &::placeholder {\r\n        color: $content-notice-fontcolor;\r\n      }\r\n    }\r\n  }\r\n  &__register-button {\r\n    margin: .32rem .4rem .16rem .4rem;\r\n    line-height: .48rem;\r\n    background: #0091FF;\r\n    box-shadow: 0 .04rem .08rem 0 rgba(0,145,255,0.32);\r\n    border-radius: .04rem;\r\n    border-radius: .04rem;\r\n    color: #fff;\r\n    font-size: .16rem;\r\n    text-align: center;\r\n  }\r\n  &__register-link {\r\n    text-align: center;\r\n    font-size: .14rem;\r\n    color: $content-notice-fontcolor;\r\n  }\r\n}\r\n</style>"],"sourceRoot":""}]}