{"remainingRequest":"C:\\Users\\null\\Desktop\\jingdong111111111\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\null\\Desktop\\jingdong111111111\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\null\\Desktop\\jingdong111111111\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\null\\Desktop\\jingdong111111111\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\null\\Desktop\\jingdong111111111\\src\\views\\login\\Login.vue?vue&type=template&id=2529d779&scoped=true","dependencies":[{"path":"C:\\Users\\null\\Desktop\\jingdong111111111\\src\\views\\login\\Login.vue","mtime":1634645076338},{"path":"C:\\Users\\null\\Desktop\\jingdong111111111\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\null\\Desktop\\jingdong111111111\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\null\\Desktop\\jingdong111111111\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1632349277000},{"path":"C:\\Users\\null\\Desktop\\jingdong111111111\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\null\\Desktop\\jingdong111111111\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhTY29wZUlkID0gZnVuY3Rpb24gX3dpdGhTY29wZUlkKG4pIHsKICByZXR1cm4gX3B1c2hTY29wZUlkKCJkYXRhLXYtMjUyOWQ3NzkiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbjsKfTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAid3JhcHBlciIKfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJpbWciLCB7CiAgICBjbGFzczogIndyYXBwZXJfX2ltZyIsCiAgICBzcmM6ICJodHRwOi8vd3d3LmRlbGwtbGVlLmNvbS9pbWdzL3Z1ZTMvdXNlci5wbmciCiAgfSwgbnVsbCwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogIndyYXBwZXJfX2lucHV0Igp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogIndyYXBwZXJfX2lucHV0Igp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X1RvYXN0ID0gX3Jlc29sdmVDb21wb25lbnQoIlRvYXN0Iik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVDb21tZW50Vk5vZGUoIiDmiJHmmK9IZWFkZXIudnVlIGxvZ2luICIpLCBfaG9pc3RlZF8yLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgY2xhc3M6ICJ3cmFwcGVyX19pbnB1dF9fY29udGVudCIsCiAgICBwbGFjZWhvbGRlcjogIuiri+i8uOWFpeS9oOeahOeUqOaItuWQjSIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJHNldHVwLnVzZXJuYW1lID0gJGV2ZW50OwogICAgfSkKICB9LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLnVzZXJuYW1lXV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW5wdXQiLCB7CiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJHNldHVwLnBhc3N3b3JkID0gJGV2ZW50OwogICAgfSksCiAgICBjbGFzczogIndyYXBwZXJfX2lucHV0X19jb250ZW50IiwKICAgIHBsYWNlaG9sZGVyOiAi6KuL6Ly45YWl5a+G56K8IgogIH0sIG51bGwsIDUxMgogIC8qIE5FRURfUEFUQ0ggKi8KICApLCBbW192TW9kZWxUZXh0LCAkc2V0dXAucGFzc3dvcmRdXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6ICJ3cmFwcGVyX19sb2dpbi1idXR0b24iLAogICAgb25DbGljazogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkc2V0dXAuaGFuZGxlTG9naW4gJiYgJHNldHVwLmhhbmRsZUxvZ2luLmFwcGx5KCRzZXR1cCwgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgIueZu+mMhCIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICBjbGFzczogIndyYXBwZXJfX2xvZ2luLWxpbmsiLAogICAgb25DbGljazogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkc2V0dXAuaGFuZGxlUmVnaXN0ZXJDbGljayAmJiAkc2V0dXAuaGFuZGxlUmVnaXN0ZXJDbGljay5hcHBseSgkc2V0dXAsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sICLnq4vljbPoqLvlhooiKV0pLCAkc2V0dXAuc2hvdyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X1RvYXN0LCB7CiAgICBrZXk6IDAsCiAgICBtZ3M6IF9jdHgudG9hc01lc3NhZ2UKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsibWdzIl0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0sIDY0CiAgLyogU1RBQkxFX0ZSQUdNRU5UICovCiAgKTsKfQ=="},{"version":3,"sources":["C:\\Users\\null\\Desktop\\jingdong111111111\\src\\views\\login\\Login.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,KAAK,EAAC;;;;sBAET,mBAAA,CAGE,KAHF,EAGE;AAFA,IAAA,KAAK,EAAC,cAEN;AADA,IAAA,GAAG,EAAC;AACJ,GAHF,E,IAAA,E;;AAAA,G;;;;AAIK,EAAA,KAAK,EAAC;;;AAON,EAAA,KAAK,EAAC;;;;;6DAbb,mBAAA,CAsBM,KAtBN,EAAA,UAAA,EAsBM,CArBJ,mBAAA,CAAA,sBAAA,CAqBI,EApBJ,UAoBI,EAhBJ,mBAAA,CAMM,KANN,EAAA,UAAA,EAMM,C,gBALJ,mBAAA,CAIE,OAJF,EAIE;AAHA,IAAA,KAAK,EAAC,yBAGN;AAFA,IAAA,WAAW,EAAC,UAEZ;;aADS,MAAA,CAAA,Q,GAAQ,M;;AACjB,GAJF,E,IAAA,E;;AAAA,G,iBAGW,MAAA,CAAA,Q,GAEP,CANN,CAgBI,EATJ,mBAAA,CAMM,KANN,EAAA,UAAA,EAMM,C,gBALJ,mBAAA,CAIE,OAJF,EAIE;;aAHS,MAAA,CAAA,Q,GAAQ,M;MAGjB;AAFA,IAAA,KAAK,EAAC,yBAEN;AADA,IAAA,WAAW,EAAC;AACZ,GAJF,E,IAAA,E;;AAAA,G,iBACW,MAAA,CAAA,Q,GAIP,CANN,CASI,EAFJ,mBAAA,CAAgE,KAAhE,EAAgE;AAA3D,IAAA,KAAK,EAAC,uBAAqD;AAA5B,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,MAAA,CAAA,WAAA,IAAA,MAAA,CAAA,WAAA,OAAA,MAAA,YAAF;AAAA,KAAA;AAAuB,GAAhE,EAAwD,IAAxD,CAEI,EADJ,mBAAA,CAAwE,KAAxE,EAAwE;AAAnE,IAAA,KAAK,EAAC,qBAA6D;AAAtC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,MAAA,CAAA,mBAAA,IAAA,MAAA,CAAA,mBAAA,OAAA,MAAA,YAAF;AAAA,KAAA;AAAiC,GAAxE,EAA8D,MAA9D,CACI,CAtBN,C,EAuBa,MAAA,CAAA,I,kBAAb,YAAA,CAAwC,gBAAxC,EAAwC;UAAA;AAApB,IAAA,GAAG,EAAE,IAAA,CAAA;AAAe,GAAxC,E,IAAA,E;;AAAA,I,OAAA,C","sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <!-- 我是Header.vue login -->\r\n    <img\r\n      class=\"wrapper__img\"\r\n      src=\"http://www.dell-lee.com/imgs/vue3/user.png\"\r\n    />\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"請輸入你的用戶名\"\r\n        v-model=\"username\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        v-model=\"password\"\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"請輸入密碼\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__login-button\" @click=\"handleLogin\">登錄</div>\r\n    <div class=\"wrapper__login-link\" @click=\"handleRegisterClick\">立即註冊</div>\r\n  </div>\r\n  <Toast v-if=\"show\" :mgs=\"toasMessage\" />\r\n</template>\r\n<script>\r\nimport { useRouter } from \"vue-router\";\r\nimport { post } from \"../../untils/request\";\r\nimport { reactive, toRefs } from \"vue\";\r\nimport Toast, { useToastEffect } from \"../../components/Toast\";\r\n\r\n//处理登录的逻辑\r\nconst useLoginEffect = (showToast) => {\r\n  const router = useRouter();\r\n  const data = reactive({ username: \"\", password: \"\" });\r\n  const handleLogin = async () => {\r\n    try {\r\n      const result = await post(\"/api/user/login\", {\r\n        username: data.username,\r\n        password: data.password,\r\n      });\r\n      if (result.error === 0) {\r\n        (localStorage.isLogin = true), router.push({ name: \"Home\" });\r\n      } else {\r\n        showToast(\"登录失败\");\r\n      }\r\n    } catch (e) {\r\n      showToast(\"请求失败\");\r\n    }\r\n  };\r\n  const { username, password } = toRefs(data);\r\n  return { username, password, handleLogin };\r\n};\r\n//处理登录跳转注册页面\r\nconst useRegisterEffect = () => {\r\n  const router = useRouter();\r\n  const handleRegisterClick = () => {\r\n    router.push({ name: \"Register\" });\r\n  };\r\n  return { handleRegisterClick };\r\n};\r\n//处理注册的验证\r\nexport default {\r\n  name: \"Login\",\r\n  components: { Toast },\r\n  // 职责就是告诉你，代码执行的一个流程\r\n  setup () {\r\n    const { show, toastMessage, showToast } = useToastEffect();\r\n    const { username, password, handleLogin } = useLoginEffect(showToast);\r\n    const { handleRegisterClick } = useRegisterEffect();\r\n\r\n    return {\r\n      username,\r\n      password,\r\n      show,\r\n      toastMessage,\r\n      handleLogin,\r\n      handleRegisterClick,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import \"../../style/viriables.scss\";\r\n.wrapper {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  right: 0;\r\n  transform: translateY(-50%);\r\n  // background-color: bisque;\r\n  &__img {\r\n    display: block;\r\n    width: 0.66rem;\r\n    height: 0.66rem;\r\n    margin: 0 auto 0.1rem auto;\r\n  }\r\n  &__input {\r\n    height: 0.5rem;\r\n    margin: 0 0.4rem 0.16rem 0.4rem;\r\n    padding: 0 0.16rem;\r\n    background: #f9f9f9;\r\n    border: 1px solid rgba(0, 0, 0, 0.1);\r\n    border-radius: 6px;\r\n    border-radius: 6px;\r\n    &__content {\r\n      border: none;\r\n      outline: none;\r\n      width: 100%;\r\n      line-height: 0.48rem;\r\n      background: none;\r\n      color: $content-notice-fontcolor;\r\n      &::placeholder {\r\n        color: $content-notice-fontcolor;\r\n      }\r\n    }\r\n  }\r\n  &__login-button {\r\n    margin: 0.32rem 0.4rem 0.16rem 0.4rem;\r\n    line-height: 0.48rem;\r\n    background: #0091ff;\r\n    box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\r\n    border-radius: 0.04rem;\r\n    border-radius: 0.04rem;\r\n    color: #fff;\r\n    font-size: 0.16rem;\r\n    text-align: center;\r\n  }\r\n  &__login-link {\r\n    text-align: center;\r\n    font-size: 0.14rem;\r\n    color: $content-notice-fontcolor;\r\n    margin: 0 auto 19.2px auto;\r\n  }\r\n}\r\n</style>"],"sourceRoot":""}]}